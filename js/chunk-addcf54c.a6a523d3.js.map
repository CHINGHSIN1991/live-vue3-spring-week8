{"version":3,"sources":["webpack:///./src/libs/emitter.js","webpack:///./src/views/frontend/CartView.vue","webpack:///./src/views/frontend/CartView.vue?c28b","webpack:///./src/components/OrderStatus.vue","webpack:///./src/components/OrderStatus.vue?bde2"],"names":["emitter","mitt","class","_createElementVNode","value","for","type","_hoisted_57","_hoisted_60","_hoisted_63","_hoisted_66","_createVNode","_component_Loading","active","$data","z-index","_component_OrderStatus","nowStatus","length","_createElementBlock","_hoisted_3","_component_router_link","to","_component_Form","errors","_hoisted_8","_hoisted_10","_toDisplayString","toLocaleString","_hoisted_12","Math","round","_hoisted_15","_hoisted_17","_hoisted_18","_hoisted_19","placeholder","aria-label","aria-describedby","$event","onClick","$options","_hoisted_26","_hoisted_27","_component_Field","name","as","id","rules","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_component_ErrorMessage","_hoisted_36","_hoisted_38","_hoisted_41","_Fragment","_renderList","item","key","src","product","imageUrl","alt","title","price","_hoisted_50","qty","unit","stock","total","disabled","_hoisted_70","_component_DelModal","ref","onDelItem","data","products","cart","tempProduct","imagesUrl","final_total","isLoading","isLoadingItem","coupon_value","coupon_applied","delivery_way","delivery_charge","components","OrderStatus","DelModal","methods","getProducts","this","$http","get","process","then","res","getCart","console","log","carts","coupon","code","catch","emit","style","content","addToCart","product_id","post","openDelProductModal","delComponent","$refs","delModal","openModal","delItem","delete","hideModal","err","delCarts","applyCoupon","qtyEdit","operator","tempqty","put","chargeCount","parseInt","watch","mounted","__exports__","render","$props","_hoisted_4","_hoisted_6","_hoisted_7","_hoisted_9","props"],"mappings":"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","file":"js/chunk-addcf54c.a6a523d3.js","sourcesContent":["import mitt from 'mitt';\n\nconst emitter = mitt();\nexport default emitter;\n","<template>\n  <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\n  <div class=\"container\">\n    <OrderStatus :nowStatus=\"nowStatus\"></OrderStatus>\n    <div\n      v-if=\"cart.length <= 0\"\n      class=\"p-4 border border-white border-bottom-0 bg-table text-dark\"\n    >\n      <p class=\"text-center text-xl mb-6\">購物車目前沒有商品</p>\n      <div class=\"d-block w-25 mx-auto btn btn-secondary text-white secondary-hover mb-5\">\n        <router-link class=\"white-hover\" :to=\"`/products`\">\n          前往商店\n        </router-link>\n      </div>\n    </div>\n    <div class=\"row d-flex flex-row-reverse\" v-if=\"cart.length > 0\">\n      <div class=\"col-xl-4\">\n        <Form v-slot=\"{ errors }\" class=\"border border-dark rounded-3 p-4 mb-4\">\n          <h5 class=\"fw-bold text-center pb-4 border-bottom\">訂單摘要</h5>\n          <div class=\"d-flex justify-content-between align-items-center py-3\">\n            <p class=\"fw-bold\">商品總計</p><p>NT$ {{ (total).toLocaleString('en-US') }}</p>\n          </div>\n          <div class=\"d-flex justify-content-between align-items-center pb-3\"\n          v-if=\"(total-final_total)>0\">\n            <p class=\"fw-bold\">商品折抵</p><p class=\"text-danger\">\n              - NT$ {{ (Math.round(total-final_total)).toLocaleString('en-US') }}\n            </p>\n          </div>\n          <div class=\"d-flex justify-content-between align-items-center pb-3\">\n            <p class=\"fw-bold\">運費</p><p>NT$ {{ (delivery_charge).toLocaleString('en-US') }}</p>\n          </div>\n          <div class=\"d-flex justify-content-between align-items-center pb-3\">\n            <p class=\"fw-bold\">使用優惠券</p>\n            <p></p>\n            <p v-if=\"coupon_applied !== '' && coupon_applied !== 'Org'\">\n              優惠券<span class=\"fw-bold\">{{ coupon_applied }}</span>已套用\n            </p>\n          </div>\n          <div class=\"d-flex justify-content-between align-items-center\">\n            <div class=\"input-group mb-3\">\n              <input type=\"text\" class=\"form-control\"\n              placeholder=\"Recipient's username\"\n              aria-label=\"Recipient's username\"\n              aria-describedby=\"basic-addon2\"\n              v-model=\"coupon_value\"\n              >\n              <div class=\"input-group-append\">\n                <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"applyCoupon\">\n                  <span v-if=\"coupon_applied !== ''\">套用其他優惠券</span>\n                  <span v-else>套用優惠券</span>\n                </button>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-floating\">\n            <Field name=\"配送方式\" as=\"select\"\n            placeholder=\"請選擇配送方式\"\n            class=\"form-select mb-2\"\n            id=\"delivery_way\"\n            rules=\"required\"\n            v-model=\"delivery_way\"\n            :class=\"{ 'is-invalid': errors['配送方式'] }\">\n              <option value=\"0來店自取\">來店自取</option>\n              <option value=\"60常溫配送\">常溫配送</option>\n              <option value=\"80常溫超商取貨\">常溫超商取貨</option>\n              <option value=\"220低溫配送\">低溫配送</option>\n              <option value=\"240冷凍超商取貨\">冷凍超商取貨</option>\n            </Field>\n            <label for=\"form-floating\">配送方式</label>\n            <ErrorMessage name=\"配送方式\" class=\"invalid-feedback\" />\n          </div>\n          <div class=\"d-flex justify-content-between mt-3 border-top py-3\">\n            <p class=\"fw-bold\">結帳總金額</p><p class=\"fw-bold fs-5\">\n              NT$ {{ (Math.round(final_total+delivery_charge)).toLocaleString('en-US') }}\n            </p>\n          </div>\n          <router-link :to=\"`/purchase`\">\n            <button type=\"submit\" class=\"btn btn-warning w-100 text-center\">\n              前往結帳<i class=\"bi bi-arrow-right\"></i>\n            </button>\n          </router-link>\n        </Form>\n      </div>\n      <div class=\"col-xl-8\">\n        <div class=\"cartlist border border-dark rounded-3 p-4 mb-4\">\n          <h5 class=\"fw-bold text-center pb-4 border-bottom\">訂單細項</h5>\n          <div class=\"row fs-8 py-2 mx-0 border-bottom\">\n            <div class=\"col-2 text-start ps-3\">\n              <span class=\"d-md-inline-block d-none\">商品</span>圖片\n            </div>\n            <div class=\"col-md-6 col-7 row\">\n              <div class=\"col-lg-5 text-start ps-sm-5 d-sm-flex d-none\">商品名稱</div>\n              <div class=\"col-lg-7 text-start ps-sm-5 ps-4\">\n                <span class=\"text-nowrap\">\n                  單價\n                </span>\n                <span class=\"mx-lg-4 mx-2\">×</span>\n                <span>\n                  <div class=\"text-nowrap d-inline-flex\">\n                    數量\n                  </div>\n                </span>\n              </div>\n            </div>\n            <div class=\"col-md-2 d-md-flex d-none justify-content-end pe-md-3\">\n              小計\n            </div>\n            <div class=\"col-md-2 col-3 d-flex justify-content-end px-md-2 px-0\">\n              訂單修改\n            </div>\n          </div>\n          <ul>\n            <li v-for=\"item in cart\"\n            class=\"row my-3 d-flex align-items-center justify-content-between\" :key=\"item.id\">\n              <div class=\"col-2 px-md-2 p-0 cart-img\">\n                <img class=\"ms-1 w-75 border-0 rounded-2 d-sm-block d-none\"\n                :src=\"item.product.imageUrl\"\n                :alt=\"item.product.title\">\n                <img class=\"ms-1 w-100 border-0 rounded-2 d-sm-none d-block\"\n                :src=\"item.product.imageUrl\"\n                :alt=\"item.product.title\">\n              </div>\n              <div class=\"col-md-6 col-7 row\">\n                <h6 class=\"px-1 text-start col-lg-5 cart-litext\">{{ item.product.title }}</h6>\n                <div class=\"px-1 text-start col-lg-7 d-flex justify-content-start cart-litext\">\n                  <span class=\"text-nowrap\">\n                    NT$ {{ (item.product.price).toLocaleString('en-US') }}\n                  </span>\n                  <span class=\"mx-lg-4 mx-2\">×</span>\n                  <span>\n                    <div class=\"text-nowrap cart_qty d-inline-flex justify-content-center\">\n                      {{ item.qty + item.product.unit}}\n                    </div>\n                  </span>\n                </div>\n                <p v-if=\"item.qty <= 1\"\n                  class=\"text-secondary fs-8 m-0 p-0 fw-bold\">＊商品訂購數量最低為一{{item.product.unit}}</p>\n                <p v-if=\"item.qty >= item.product.stock\"\n                  class=\"text-danger fs-8 m-0 p-0 fw-bold\">＊商品已達庫存上限</p>\n              </div>\n              <div class=\"col-md-2 d-md-flex d-none justify-content-end pe-md-3\">\n                NT$  {{ (item.total).toLocaleString('en-US') }}\n              </div>\n              <div class=\"col-md-2 col-3 d-flex justify-content-end px-md-2 px-0\">\n                <button\n                  class=\"cart_btn mx-md-2 mx-1 me-md-1\"\n                  type=\"button\"\n                  id=\"button-addon1\"\n                  @click=\"qtyEdit('minus', item.id, item)\"\n                  :disabled=\"item.qty <= 1\"\n                >\n                  <i class=\"bi bi-dash-lg\"></i>\n                </button>\n                <button\n                  class=\"cart_btn mx-md-2 mx-1 me-md-1\"\n                  type=\"button\"\n                  id=\"button-addon2\"\n                  @click=\"qtyEdit('add', item.id, item)\"\n                  :disabled=\"item.qty >= item.product.stock\"\n                >\n                  <i class=\"bi bi-plus-lg\"></i>\n                </button>\n                <button\n                  class=\"cart_btn ms-md-2 mx-1 me-md-1\"\n                  @click=\"openDelProductModal(item)\"\n                >\n                  <i class=\"bi bi-trash3\"></i>\n                </button>\n              </div>\n            </li>\n          </ul>\n          <button type=\"button\" class=\"mt-2 w-100 btn btn-outline-secondary\"\n            @click.prevent=\"delCarts\">清空購物車<i class=\"mx-2 bi bi-cart-x\"></i></button>\n          <router-link type=\"button\" class=\"mt-3 w-100 btn btn-outline-secondary\"\n            :to=\"`/products`\">繼續購物<i class=\"mx-2 bi bi-cart-plus\"></i></router-link>\n        </div>\n        <div class=\"cartlist border border-dark rounded-3 p-4 mb-4\">\n          <h5 class=\"fw-bold text-center pb-4 border-bottom\">購物須知</h5>\n          <ul class=\"mt-4\">\n            <li class=\"mt-4\">\n              <h6 class=\"text-start\">1.運費計算</h6>\n              <p>常溫配送可選擇郵局60元及超商取貨80元。<br>\n              低溫配送運費220元。<br>\n              冷凍超商取貨運費240元。<br>\n              常溫商品消費滿500元免運費。<br>\n              冷凍及冷藏商品消費滿1500元免運費。\n              </p>\n            </li>\n            <li class=\"mt-4\">\n              <h6 class=\"text-start\">2.店取注意事項</h6>\n              <p>門市取貨日期：週五、六、日、一、二（特休日另公告）。請提早一週前完成預訂。<br>\n                一週內的訂單請私訊預訂，不可直接下單避免無法取貨。<br>\n                但，特定取貨日商品（門市自取預約甜點、聯名開單商品）以商品頁面標示取貨日為主。<br>\n                日期選擇錯誤，恐影響取件或延遲到貨，請務必務必多多留意，非常感謝各位的細心。\n              </p>\n            </li>\n            <li class=\"mt-4\">\n              <h6 class=\"text-start\">3.宅配注意事項</h6>\n              <p>宅配可出貨日：為每週一、週二。<br>\n                寄出後，將提供【物流單號】方便您查詢，實際到貨日期依當地物流為主。<br>\n                凡貨運繁盛期，無法保證隔日抵達（以黑貓官網公告日期為主）務必安排提前寄貨，我們會依照您選擇的日期準時寄出，所以我們不接受訂單延遲產生的退款申請！\n              </p>\n            </li>\n            <li class=\"mt-4\">\n              <h6 class=\"text-start\">4.商品換貨</h6>\n              <p>宅配蛋糕一定有風險，可能會蛋糕位移、變形損傷、裝飾掉落是正常現象，風險自行承擔，無法申請賠償。<br>\n              若是嚴重受損（蛋糕爛掉糊掉）明顯人為造成，請於配達日2天內與我們聯繫，盡快為您處理，逾期無法受理。<br>\n              請保持蛋糕收到的樣貌，不要丟掉或吃掉蛋糕，第一時間拍照，拍下蛋糕毀損盒內的樣子、外盒包裝並準備訂購資訊、聯繫電話、宅配單號，與我們聯繫。\n              我們會盡快為您處理，在貨故申請尚未結束前，請保留蛋糕的原狀。</p>\n            </li>\n            <li class=\"mt-4\">\n              <h6 class=\"text-start\">5.退款條件</h6>\n              <p>變更訂單請2～3天前與我們聯繫，甜點新鮮製作，賞味期內未取貨，將進行報廢，\n                代表您放棄此筆訂單，無法《 全額退款 》或 《 變更訂單》。<br>\n                若您的訂單下單選擇錯誤，因系統金流設定，僅能退購物金，無法刷退信用卡或退款現金，請多多留意。</p>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  <DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delItem(tempProduct.id)\"/>\n</template>\n\n<script>\nimport emitter from '@/libs/emitter';\nimport DelModal from '@/components/DelModal.vue';\nimport OrderStatus from '@/components/OrderStatus.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      cart: [],\n      tempProduct: {\n        imagesUrl: [],\n      },\n      total: 0,\n      final_total: 0,\n      nowStatus: '購物清單',\n      isLoading: false,\n      isLoadingItem: '',\n      coupon_value: '',\n      coupon_applied: '',\n      delivery_way: '',\n      delivery_charge: 0,\n    };\n  },\n  components: {\n    OrderStatus, DelModal,\n  },\n  methods: {\n    getProducts() {\n      this.isLoading = true;\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          // console.log(res);\n          this.products = res.data.products;\n        });\n      this.isLoading = false;\n    },\n    getCart() {\n      this.isLoading = true;\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          console.log(res);\n          this.cart = res.data.data.carts;\n          this.final_total = Math.round(res.data.data.final_total);\n          this.total = res.data.data.total;\n          this.coupon_applied = res.data.data.carts[0].coupon.code || '';\n        })\n        .catch(() => {\n          this.emitter.emit('push-message', {\n            style: 'danger',\n            title: '載入錯誤',\n            content: '發生錯誤，請重新整理頁面',\n          });\n        });\n      this.isLoading = false;\n    },\n    addToCart(id, qty = 1) {\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.isLoadingItem = id;\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, { data })\n        .then((res) => {\n          console.log(res);\n          this.isLoadingItem = '';\n          emitter.emit('get-cart');\n        });\n    },\n    openDelProductModal(item) {\n      this.tempProduct = { ...item };\n      const delComponent = this.$refs.delModal;\n      delComponent.openModal();\n    },\n    delItem(id) {\n      console.log(id);\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`).then((res) => {\n        console.log('delItem', res);\n        const delComponent = this.$refs.delModal;\n        delComponent.hideModal();\n        this.getCart();\n      }).catch((err) => {\n        console.log(err);\n      });\n    },\n    delCarts() {\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`).then((res) => {\n        console.log('delItems', res);\n        this.getCart();\n      }).catch((err) => {\n        console.log(err);\n      });\n    },\n    applyCoupon() {\n      const data = {\n        code: this.coupon_value,\n      };\n      console.log(data);\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`, { data })\n        .then((res) => {\n          console.log(res);\n          this.final_total = res.data.data.final_total;\n          this.coupon_applied = this.coupon_value;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    qtyEdit(operator, id, item) {\n      let tempqty = 0;\n      if (operator === 'add') {\n        tempqty = item.qty + 1;\n      } else {\n        tempqty = item.qty - 1;\n      }\n      const data = {\n        product_id: item.product_id,\n        qty: tempqty,\n      };\n      console.log(data);\n      this.$http.put(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`, { data }).then((res) => {\n        console.log('editItem', res);\n        this.getCart();\n      }).catch((err) => {\n        console.log(err);\n      });\n    },\n    chargeCount() {\n      this.delivery_charge = parseInt(this.delivery_way, 10);\n      if (this.final_total >= 1200) {\n        this.delivery_charge = 0;\n      } else if (this.final_total >= 500 && this.delivery_charge <= 100) {\n        this.delivery_charge = 0;\n      }\n    },\n  },\n  // computed: {\n  //   delivery_charge() {\n  //     this.delivery_charge = parseInt(this.delivery_way, 10);\n  //     if (this.final_total >= 1200) {\n  //       this.delivery_charge = 0;\n  //     } else if (this.final_total >= 500 && this.delivery_charge <= 100) {\n  //       this.delivery_charge = 0;\n  //     }\n  //   }\n  // },\n  watch: {\n    delivery_way() {\n      this.chargeCount();\n    },\n  },\n  mounted() {\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=ce0855c2\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ChingHsin\\\\Desktop\\\\vue_week8_master\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"p-4 d-flex justify-content-between mx-md-5 px-md-5 my-3 text-secondary\">\n    <div class=\"d-flex flex-column align-items-center\">\n      <div class=\"cart-icon text-center fs-5 pt-1\n      border border-secondary\n      rounded-circle\"\n      :class=\"{ 'bg-secondary text-light': nowStatus === '購物清單' }\">\n        1\n      </div>\n      <p class=\"text-nowrap mt-2\">購物清單</p>\n    </div>\n    <hr class=\"w-100\">\n    <div class=\"d-flex flex-column align-items-center\">\n      <div class=\"cart-icon text-center fs-5 pt-1\n      border border-secondary\n      rounded-circle\"\n      :class=\"{ 'bg-secondary text-light': nowStatus === '填寫資料' }\">\n        2\n      </div>\n      <p class=\"text-nowrap mt-2\">填寫資料</p>\n    </div>\n    <hr class=\"w-100\">\n    <div class=\"d-flex flex-column align-items-center\">\n      <div class=\"cart-icon text-center fs-5 pt-1\n      border border-secondary\n      rounded-circle\"\n      :class=\"{ 'bg-secondary text-light': nowStatus === '確認付款' }\">\n        3\n      </div>\n      <p class=\"text-nowrap mt-2\">確認付款</p>\n    </div>\n    <hr class=\"w-100\">\n    <div class=\"d-flex flex-column align-items-center\">\n      <div class=\"cart-icon text-center fs-5 pt-1\n      border border-secondary\n      rounded-circle\"\n      :class=\"{ 'bg-secondary text-light': nowStatus === '完成購物' }\">\n        4\n      </div>\n      <p class=\"text-nowrap mt-2\">完成購物</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['nowStatus'],\n};\n</script>\n","import { render } from \"./OrderStatus.vue?vue&type=template&id=f8ad9efe\"\nimport script from \"./OrderStatus.vue?vue&type=script&lang=js\"\nexport * from \"./OrderStatus.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ChingHsin\\\\Desktop\\\\vue_week8_master\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}