(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-addcf54c"],{"6be2":function(t,e,c){"use strict";var n=c("1344"),o=Object(n["a"])();e["a"]=o},"7b9c":function(t,e,c){"use strict";c.r(e);var n=c("7a23"),o={class:"container"},a={key:0,class:"p-4 border border-white border-bottom-0 bg-table text-dark"},s=Object(n["h"])("p",{class:"text-center text-xl mb-6"},"購物車目前沒有商品",-1),l={class:"d-block w-25 mx-auto btn btn-secondary text-white secondary-hover mb-5"},i=Object(n["j"])(" 前往商店 "),r={key:1,class:"row d-flex flex-row-reverse"},d={class:"col-xl-4"},b=Object(n["h"])("h5",{class:"fw-bold text-center pb-4 border-bottom"},"訂單摘要",-1),u={class:"d-flex justify-content-between align-items-center py-3"},p=Object(n["h"])("p",{class:"fw-bold"},"商品總計",-1),h={key:0,class:"d-flex justify-content-between align-items-center pb-3"},j=Object(n["h"])("p",{class:"fw-bold"},"商品折抵",-1),O={class:"text-danger"},f={class:"d-flex justify-content-between align-items-center pb-3"},m=Object(n["h"])("p",{class:"fw-bold"},"運費",-1),g={class:"d-flex justify-content-between align-items-center pb-3"},v=Object(n["h"])("p",{class:"fw-bold"},"使用優惠券",-1),x=Object(n["h"])("p",null,null,-1),y={key:0},w=Object(n["j"])(" 優惠券"),_={class:"fw-bold"},k=Object(n["j"])("已套用 "),M={class:"d-flex justify-content-between align-items-center"},S={class:"input-group mb-3"},C={class:"input-group-append"},L={key:0},$={key:1},q={class:"form-floating"},B=Object(n["h"])("option",{value:"0來店自取"},"來店自取",-1),U=Object(n["h"])("option",{value:"60常溫配送"},"常溫配送",-1),I=Object(n["h"])("option",{value:"80常溫超商取貨"},"常溫超商取貨",-1),J=Object(n["h"])("option",{value:"220低溫配送"},"低溫配送",-1),V=Object(n["h"])("option",{value:"240冷凍超商取貨"},"冷凍超商取貨",-1),P=Object(n["h"])("label",{for:"form-floating"},"配送方式",-1),T={class:"d-flex justify-content-between mt-3 border-top py-3"},N=Object(n["h"])("p",{class:"fw-bold"},"結帳總金額",-1),D={class:"fw-bold fs-5"},E=Object(n["h"])("button",{type:"submit",class:"btn btn-warning w-100 text-center"},[Object(n["j"])(" 前往結帳"),Object(n["h"])("i",{class:"bi bi-arrow-right"})],-1),F={class:"col-xl-8"},R={class:"cartlist border border-dark rounded-3 p-4 mb-4"},z=Object(n["i"])('<h5 class="fw-bold text-center pb-4 border-bottom">訂單細項</h5><div class="row fs-8 py-2 mx-0 border-bottom"><div class="col-2 text-start ps-3"><span class="d-md-inline-block d-none">商品</span>圖片 </div><div class="col-md-6 col-7 row"><div class="col-lg-5 text-start ps-sm-5 d-sm-flex d-none">商品名稱</div><div class="col-lg-7 text-start ps-sm-5 ps-4"><span class="text-nowrap"> 單價 </span><span class="mx-lg-4 mx-2">×</span><span><div class="text-nowrap d-inline-flex"> 數量 </div></span></div></div><div class="col-md-2 d-md-flex d-none justify-content-end pe-md-3"> 小計 </div><div class="col-md-2 col-3 d-flex justify-content-end px-md-2 px-0"> 訂單修改 </div></div>',2),H={class:"col-2 px-md-2 p-0 cart-img"},Q=["src","alt"],W=["src","alt"],X={class:"col-md-6 col-7 row"},A={class:"px-1 text-start col-lg-5 cart-litext"},G={class:"px-1 text-start col-lg-7 d-flex justify-content-start cart-litext"},K={class:"text-nowrap"},Y=Object(n["h"])("span",{class:"mx-lg-4 mx-2"},"×",-1),Z={class:"text-nowrap cart_qty d-inline-flex justify-content-center"},tt={key:0,class:"text-secondary fs-8 m-0 p-0 fw-bold"},et={key:1,class:"text-danger fs-8 m-0 p-0 fw-bold"},ct={class:"col-md-2 d-md-flex d-none justify-content-end pe-md-3"},nt={class:"col-md-2 col-3 d-flex justify-content-end px-md-2 px-0"},ot=["onClick","disabled"],at=Object(n["h"])("i",{class:"bi bi-dash-lg"},null,-1),st=[at],lt=["onClick","disabled"],it=Object(n["h"])("i",{class:"bi bi-plus-lg"},null,-1),rt=[it],dt=["onClick"],bt=Object(n["h"])("i",{class:"bi bi-trash3"},null,-1),ut=[bt],pt=Object(n["j"])("清空購物車"),ht=Object(n["h"])("i",{class:"mx-2 bi bi-cart-x"},null,-1),jt=[pt,ht],Ot=Object(n["j"])("繼續購物"),ft=Object(n["h"])("i",{class:"mx-2 bi bi-cart-plus"},null,-1),mt=Object(n["i"])('<div class="cartlist border border-dark rounded-3 p-4 mb-4"><h5 class="fw-bold text-center pb-4 border-bottom">購物須知</h5><ul class="mt-4"><li class="mt-4"><h6 class="text-start">1.運費計算</h6><p>常溫配送可選擇郵局60元及超商取貨80元。<br> 低溫配送運費220元。<br> 冷凍超商取貨運費240元。<br> 常溫商品消費滿500元免運費。<br> 冷凍及冷藏商品消費滿1500元免運費。 </p></li><li class="mt-4"><h6 class="text-start">2.店取注意事項</h6><p>門市取貨日期：週五、六、日、一、二（特休日另公告）。請提早一週前完成預訂。<br> 一週內的訂單請私訊預訂，不可直接下單避免無法取貨。<br> 但，特定取貨日商品（門市自取預約甜點、聯名開單商品）以商品頁面標示取貨日為主。<br> 日期選擇錯誤，恐影響取件或延遲到貨，請務必務必多多留意，非常感謝各位的細心。 </p></li><li class="mt-4"><h6 class="text-start">3.宅配注意事項</h6><p>宅配可出貨日：為每週一、週二。<br> 寄出後，將提供【物流單號】方便您查詢，實際到貨日期依當地物流為主。<br> 凡貨運繁盛期，無法保證隔日抵達（以黑貓官網公告日期為主）務必安排提前寄貨，我們會依照您選擇的日期準時寄出，所以我們不接受訂單延遲產生的退款申請！ </p></li><li class="mt-4"><h6 class="text-start">4.商品換貨</h6><p>宅配蛋糕一定有風險，可能會蛋糕位移、變形損傷、裝飾掉落是正常現象，風險自行承擔，無法申請賠償。<br> 若是嚴重受損（蛋糕爛掉糊掉）明顯人為造成，請於配達日2天內與我們聯繫，盡快為您處理，逾期無法受理。<br> 請保持蛋糕收到的樣貌，不要丟掉或吃掉蛋糕，第一時間拍照，拍下蛋糕毀損盒內的樣子、外盒包裝並準備訂購資訊、聯繫電話、宅配單號，與我們聯繫。 我們會盡快為您處理，在貨故申請尚未結束前，請保留蛋糕的原狀。</p></li><li class="mt-4"><h6 class="text-start">5.退款條件</h6><p>變更訂單請2～3天前與我們聯繫，甜點新鮮製作，賞味期內未取貨，將進行報廢， 代表您放棄此筆訂單，無法《 全額退款 》或 《 變更訂單》。<br> 若您的訂單下單選擇錯誤，因系統金流設定，僅能退購物金，無法刷退信用卡或退款現金，請多多留意。</p></li></ul></div>',1);function gt(t,e,c,at,it,bt){var pt=Object(n["J"])("Loading"),ht=Object(n["J"])("OrderStatus"),gt=Object(n["J"])("router-link"),vt=Object(n["J"])("Field"),xt=Object(n["J"])("ErrorMessage"),yt=Object(n["J"])("Form"),wt=Object(n["J"])("DelModal");return Object(n["B"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(pt,{active:it.isLoading,"z-index":1060},null,8,["active"]),Object(n["h"])("div",o,[Object(n["k"])(ht,{nowStatus:it.nowStatus},null,8,["nowStatus"]),it.cart.length<=0?(Object(n["B"])(),Object(n["g"])("div",a,[s,Object(n["h"])("div",l,[Object(n["k"])(gt,{class:"white-hover",to:"/products"},{default:Object(n["V"])((function(){return[i]})),_:1})])])):Object(n["f"])("",!0),it.cart.length>0?(Object(n["B"])(),Object(n["g"])("div",r,[Object(n["h"])("div",d,[Object(n["k"])(yt,{class:"border border-dark rounded-3 p-4 mb-4"},{default:Object(n["V"])((function(t){var c=t.errors;return[b,Object(n["h"])("div",u,[p,Object(n["h"])("p",null,"NT$ "+Object(n["M"])(it.total.toLocaleString("en-US")),1)]),it.total-it.final_total>0?(Object(n["B"])(),Object(n["g"])("div",h,[j,Object(n["h"])("p",O," - NT$ "+Object(n["M"])(Math.round(it.total-it.final_total).toLocaleString("en-US")),1)])):Object(n["f"])("",!0),Object(n["h"])("div",f,[m,Object(n["h"])("p",null,"NT$ "+Object(n["M"])(it.delivery_charge.toLocaleString("en-US")),1)]),Object(n["h"])("div",g,[v,x,""!==it.coupon_applied&&"Org"!==it.coupon_applied?(Object(n["B"])(),Object(n["g"])("p",y,[w,Object(n["h"])("span",_,Object(n["M"])(it.coupon_applied),1),k])):Object(n["f"])("",!0)]),Object(n["h"])("div",M,[Object(n["h"])("div",S,[Object(n["W"])(Object(n["h"])("input",{type:"text",class:"form-control",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"basic-addon2","onUpdate:modelValue":e[0]||(e[0]=function(t){return it.coupon_value=t})},null,512),[[n["Q"],it.coupon_value]]),Object(n["h"])("div",C,[Object(n["h"])("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=function(){return bt.applyCoupon&&bt.applyCoupon.apply(bt,arguments)})},[""!==it.coupon_applied?(Object(n["B"])(),Object(n["g"])("span",L,"套用其他優惠券")):(Object(n["B"])(),Object(n["g"])("span",$,"套用優惠券"))])])])]),Object(n["h"])("div",q,[Object(n["k"])(vt,{name:"配送方式",as:"select",placeholder:"請選擇配送方式",class:Object(n["s"])(["form-select mb-2",{"is-invalid":c["配送方式"]}]),id:"delivery_way",rules:"required",modelValue:it.delivery_way,"onUpdate:modelValue":e[2]||(e[2]=function(t){return it.delivery_way=t})},{default:Object(n["V"])((function(){return[B,U,I,J,V]})),_:2},1032,["modelValue","class"]),P,Object(n["k"])(xt,{name:"配送方式",class:"invalid-feedback"})]),Object(n["h"])("div",T,[N,Object(n["h"])("p",D," NT$ "+Object(n["M"])(Math.round(it.final_total+it.delivery_charge).toLocaleString("en-US")),1)]),Object(n["k"])(gt,{to:"/purchase"},{default:Object(n["V"])((function(){return[E]})),_:1})]})),_:1})]),Object(n["h"])("div",F,[Object(n["h"])("div",R,[z,Object(n["h"])("ul",null,[(Object(n["B"])(!0),Object(n["g"])(n["a"],null,Object(n["H"])(it.cart,(function(t){return Object(n["B"])(),Object(n["g"])("li",{class:"row my-3 d-flex align-items-center justify-content-between",key:t.id},[Object(n["h"])("div",H,[Object(n["h"])("img",{class:"ms-1 w-75 border-0 rounded-2 d-sm-block d-none",src:t.product.imageUrl,alt:t.product.title},null,8,Q),Object(n["h"])("img",{class:"ms-1 w-100 border-0 rounded-2 d-sm-none d-block",src:t.product.imageUrl,alt:t.product.title},null,8,W)]),Object(n["h"])("div",X,[Object(n["h"])("h6",A,Object(n["M"])(t.product.title),1),Object(n["h"])("div",G,[Object(n["h"])("span",K," NT$ "+Object(n["M"])(t.product.price.toLocaleString("en-US")),1),Y,Object(n["h"])("span",null,[Object(n["h"])("div",Z,Object(n["M"])(t.qty+t.product.unit),1)])]),t.qty<=1?(Object(n["B"])(),Object(n["g"])("p",tt,"＊商品訂購數量最低為一"+Object(n["M"])(t.product.unit),1)):Object(n["f"])("",!0),t.qty>=t.product.stock?(Object(n["B"])(),Object(n["g"])("p",et,"＊商品已達庫存上限")):Object(n["f"])("",!0)]),Object(n["h"])("div",ct," NT$ "+Object(n["M"])(t.total.toLocaleString("en-US")),1),Object(n["h"])("div",nt,[Object(n["h"])("button",{class:"cart_btn mx-md-2 mx-1 me-md-1",type:"button",id:"button-addon1",onClick:function(e){return bt.qtyEdit("minus",t.id,t)},disabled:t.qty<=1},st,8,ot),Object(n["h"])("button",{class:"cart_btn mx-md-2 mx-1 me-md-1",type:"button",id:"button-addon2",onClick:function(e){return bt.qtyEdit("add",t.id,t)},disabled:t.qty>=t.product.stock},rt,8,lt),Object(n["h"])("button",{class:"cart_btn ms-md-2 mx-1 me-md-1",onClick:function(e){return bt.openDelProductModal(t)}},ut,8,dt)])])})),128))]),Object(n["h"])("button",{type:"button",class:"mt-2 w-100 btn btn-outline-secondary",onClick:e[3]||(e[3]=Object(n["X"])((function(){return bt.delCarts&&bt.delCarts.apply(bt,arguments)}),["prevent"]))},jt),Object(n["k"])(gt,{type:"button",class:"mt-3 w-100 btn btn-outline-secondary",to:"/products"},{default:Object(n["V"])((function(){return[Ot,ft]})),_:1})]),mt])])):Object(n["f"])("",!0)]),Object(n["k"])(wt,{item:it.tempProduct,ref:"delModal",onDelItem:e[4]||(e[4]=function(t){return bt.delItem(it.tempProduct.id)})},null,8,["item"])],64)}var vt=c("5530"),xt=(c("99af"),c("6be2")),yt=c("6ff1"),wt=c("8514"),_t={data:function(){return{products:[],cart:[],tempProduct:{imagesUrl:[]},total:0,final_total:0,nowStatus:"購物清單",isLoading:!1,isLoadingItem:"",coupon_value:"",coupon_applied:"",delivery_way:"",delivery_charge:0}},components:{OrderStatus:wt["a"],DelModal:yt["a"]},methods:{getProducts:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chinghsin-api","/products/all")).then((function(e){t.products=e.data.products})),this.isLoading=!1},getCart:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chinghsin-api","/cart")).then((function(e){console.log(e),t.cart=e.data.data.carts,t.final_total=Math.round(e.data.data.final_total),t.total=e.data.data.total,t.coupon_applied=e.data.data.carts[0].coupon.code||""})).catch((function(){t.emitter.emit("push-message",{style:"danger",title:"載入錯誤",content:"發生錯誤，請重新整理頁面"})})),this.isLoading=!1},addToCart:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n={product_id:t,qty:c};this.isLoadingItem=t,this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chinghsin-api","/cart"),{data:n}).then((function(t){console.log(t),e.isLoadingItem="",xt["a"].emit("get-cart")}))},openDelProductModal:function(t){this.tempProduct=Object(vt["a"])({},t);var e=this.$refs.delModal;e.openModal()},delItem:function(t){var e=this;console.log(t),this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chinghsin-api","/cart/").concat(t)).then((function(t){console.log("delItem",t);var c=e.$refs.delModal;c.hideModal(),e.getCart()})).catch((function(t){console.log(t)}))},delCarts:function(){var t=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chinghsin-api","/carts")).then((function(e){console.log("delItems",e),t.getCart()})).catch((function(t){console.log(t)}))},applyCoupon:function(){var t=this,e={code:this.coupon_value};console.log(e),this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chinghsin-api","/coupon"),{data:e}).then((function(e){console.log(e),t.final_total=e.data.data.final_total,t.coupon_applied=t.coupon_value})).catch((function(t){console.log(t)}))},qtyEdit:function(t,e,c){var n=this,o=0;o="add"===t?c.qty+1:c.qty-1;var a={product_id:c.product_id,qty:o};console.log(a),this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chinghsin-api","/cart/").concat(e),{data:a}).then((function(t){console.log("editItem",t),n.getCart()})).catch((function(t){console.log(t)}))},chargeCount:function(){this.delivery_charge=parseInt(this.delivery_way,10),(this.final_total>=1200||this.final_total>=500&&this.delivery_charge<=100)&&(this.delivery_charge=0)}},watch:{delivery_way:function(){this.chargeCount()}},mounted:function(){this.getProducts(),this.getCart()}},kt=c("6b0d"),Mt=c.n(kt);const St=Mt()(_t,[["render",gt]]);e["default"]=St},8514:function(t,e,c){"use strict";var n=c("7a23"),o={class:"p-4 d-flex justify-content-between mx-md-5 px-md-5 my-3 text-secondary"},a={class:"d-flex flex-column align-items-center"},s=Object(n["h"])("p",{class:"text-nowrap mt-2"},"購物清單",-1),l=Object(n["h"])("hr",{class:"w-100"},null,-1),i={class:"d-flex flex-column align-items-center"},r=Object(n["h"])("p",{class:"text-nowrap mt-2"},"填寫資料",-1),d=Object(n["h"])("hr",{class:"w-100"},null,-1),b={class:"d-flex flex-column align-items-center"},u=Object(n["h"])("p",{class:"text-nowrap mt-2"},"確認付款",-1),p=Object(n["h"])("hr",{class:"w-100"},null,-1),h={class:"d-flex flex-column align-items-center"},j=Object(n["h"])("p",{class:"text-nowrap mt-2"},"完成購物",-1);function O(t,e,c,O,f,m){return Object(n["B"])(),Object(n["g"])("div",o,[Object(n["h"])("div",a,[Object(n["h"])("div",{class:Object(n["s"])(["cart-icon text-center fs-5 pt-1 border border-secondary rounded-circle",{"bg-secondary text-light":"購物清單"===c.nowStatus}])}," 1 ",2),s]),l,Object(n["h"])("div",i,[Object(n["h"])("div",{class:Object(n["s"])(["cart-icon text-center fs-5 pt-1 border border-secondary rounded-circle",{"bg-secondary text-light":"填寫資料"===c.nowStatus}])}," 2 ",2),r]),d,Object(n["h"])("div",b,[Object(n["h"])("div",{class:Object(n["s"])(["cart-icon text-center fs-5 pt-1 border border-secondary rounded-circle",{"bg-secondary text-light":"確認付款"===c.nowStatus}])}," 3 ",2),u]),p,Object(n["h"])("div",h,[Object(n["h"])("div",{class:Object(n["s"])(["cart-icon text-center fs-5 pt-1 border border-secondary rounded-circle",{"bg-secondary text-light":"完成購物"===c.nowStatus}])}," 4 ",2),j])])}var f={props:["nowStatus"]},m=c("6b0d"),g=c.n(m);const v=g()(f,[["render",O]]);e["a"]=v}}]);
//# sourceMappingURL=chunk-addcf54c.a6a523d3.js.map